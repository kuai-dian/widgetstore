{"version":3,"file":"form-model.js","sources":["../../node_modules/validator/lib/util/merge.js","../../node_modules/validator/lib/isDate.js","../../node_modules/validator/lib/util/assertString.js","../../node_modules/validator/lib/isByteLength.js","../../node_modules/validator/lib/isFQDN.js","../../node_modules/validator/lib/isIP.js","../../node_modules/validator/lib/isEmail.js","../../node_modules/validator/lib/isURL.js","../../src/form/form-model.ts"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = merge;\n\nfunction merge() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments.length > 1 ? arguments[1] : undefined;\n\n  for (var key in defaults) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = defaults[key];\n    }\n  }\n\n  return obj;\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDate;\n\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar default_date_options = {\n  format: 'YYYY/MM/DD',\n  delimiters: ['/', '-'],\n  strictMode: false\n};\n\nfunction isValidFormat(format) {\n  return /(^(y{4}|y{2})[.\\/-](m{1,2})[.\\/-](d{1,2})$)|(^(m{1,2})[.\\/-](d{1,2})[.\\/-]((y{4}|y{2})$))|(^(d{1,2})[.\\/-](m{1,2})[.\\/-]((y{4}|y{2})$))/gi.test(format);\n}\n\nfunction zip(date, format) {\n  var zippedArr = [],\n      len = Math.min(date.length, format.length);\n\n  for (var i = 0; i < len; i++) {\n    zippedArr.push([date[i], format[i]]);\n  }\n\n  return zippedArr;\n}\n\nfunction isDate(input, options) {\n  if (typeof options === 'string') {\n    // Allow backward compatbility for old format isDate(input [, format])\n    options = (0, _merge.default)({\n      format: options\n    }, default_date_options);\n  } else {\n    options = (0, _merge.default)(options, default_date_options);\n  }\n\n  if (typeof input === 'string' && isValidFormat(options.format)) {\n    var formatDelimiter = options.delimiters.find(function (delimiter) {\n      return options.format.indexOf(delimiter) !== -1;\n    });\n    var dateDelimiter = options.strictMode ? formatDelimiter : options.delimiters.find(function (delimiter) {\n      return input.indexOf(delimiter) !== -1;\n    });\n    var dateAndFormat = zip(input.split(dateDelimiter), options.format.toLowerCase().split(formatDelimiter));\n    var dateObj = {};\n\n    var _iterator = _createForOfIteratorHelper(dateAndFormat),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _slicedToArray(_step.value, 2),\n            dateWord = _step$value[0],\n            formatWord = _step$value[1];\n\n        if (dateWord.length !== formatWord.length) {\n          return false;\n        }\n\n        dateObj[formatWord.charAt(0)] = dateWord;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return new Date(\"\".concat(dateObj.m, \"/\").concat(dateObj.d, \"/\").concat(dateObj.y)).getDate() === +dateObj.d;\n  }\n\n  if (!options.strictMode) {\n    return Object.prototype.toString.call(input) === '[object Date]' && isFinite(input);\n  }\n\n  return false;\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction assertString(input) {\n  var isString = typeof input === 'string' || input instanceof String;\n\n  if (!isString) {\n    var invalidType = _typeof(input);\n\n    if (input === null) invalidType = 'null';else if (invalidType === 'object') invalidType = input.constructor.name;\n    throw new TypeError(\"Expected a string but received a \".concat(invalidType));\n  }\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isByteLength;\n\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-disable prefer-rest-params */\nfunction isByteLength(str, options) {\n  (0, _assertString.default)(str);\n  var min;\n  var max;\n\n  if (_typeof(options) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isByteLength(str, min [, max])\n    min = arguments[1];\n    max = arguments[2];\n  }\n\n  var len = encodeURI(str).split(/%..|./).length - 1;\n  return len >= min && (typeof max === 'undefined' || len <= max);\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFQDN;\n\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\n\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_fqdn_options = {\n  require_tld: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_numeric_tld: false,\n  allow_wildcard: false\n};\n\nfunction isFQDN(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, default_fqdn_options);\n  /* Remove the optional trailing dot before checking validity */\n\n  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n    str = str.substring(0, str.length - 1);\n  }\n  /* Remove the optional wildcard before checking validity */\n\n\n  if (options.allow_wildcard === true && str.indexOf('*.') === 0) {\n    str = str.substring(2);\n  }\n\n  var parts = str.split('.');\n  var tld = parts[parts.length - 1];\n\n  if (options.require_tld) {\n    // disallow fqdns without tld\n    if (parts.length < 2) {\n      return false;\n    }\n\n    if (!/^([a-z\\u00A1-\\u00A8\\u00AA-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n      return false;\n    } // disallow spaces\n\n\n    if (/\\s/.test(tld)) {\n      return false;\n    }\n  } // reject numeric TLDs\n\n\n  if (!options.allow_numeric_tld && /^\\d+$/.test(tld)) {\n    return false;\n  }\n\n  return parts.every(function (part) {\n    if (part.length > 63) {\n      return false;\n    }\n\n    if (!/^[a-z_\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n      return false;\n    } // disallow full-width chars\n\n\n    if (/[\\uff01-\\uff5e]/.test(part)) {\n      return false;\n    } // disallow parts starting or ending with hyphen\n\n\n    if (/^-|-$/.test(part)) {\n      return false;\n    }\n\n    if (!options.allow_underscores && /_/.test(part)) {\n      return false;\n    }\n\n    return true;\n  });\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\n\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n11.3.  Examples\n\n   The following addresses\n\n             fe80::1234 (on the 1st link of the node)\n             ff02::5678 (on the 5th link of the node)\n             ff08::9abc (on the 10th organization of the node)\n\n   would be represented as follows:\n\n             fe80::1234%1\n             ff02::5678%5\n             ff08::9abc%10\n\n   (Here we assume a natural translation from a zone index to the\n   <zone_id> part, where the Nth zone of any scope is translated into\n   \"N\".)\n\n   If we use interface names as <zone_id>, those addresses could also be\n   represented as follows:\n\n            fe80::1234%ne0\n            ff02::5678%pvc1.3\n            ff08::9abc%interface10\n\n   where the interface \"ne0\" belongs to the 1st link, \"pvc1.3\" belongs\n   to the 5th link, and \"interface10\" belongs to the 10th organization.\n * * */\nvar IPv4SegmentFormat = '(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])';\nvar IPv4AddressFormat = \"(\".concat(IPv4SegmentFormat, \"[.]){3}\").concat(IPv4SegmentFormat);\nvar IPv4AddressRegExp = new RegExp(\"^\".concat(IPv4AddressFormat, \"$\"));\nvar IPv6SegmentFormat = '(?:[0-9a-fA-F]{1,4})';\nvar IPv6AddressRegExp = new RegExp('^(' + \"(?:\".concat(IPv6SegmentFormat, \":){7}(?:\").concat(IPv6SegmentFormat, \"|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){6}(?:\").concat(IPv4AddressFormat, \"|:\").concat(IPv6SegmentFormat, \"|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){5}(?::\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,2}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){4}(?:(:\").concat(IPv6SegmentFormat, \"){0,1}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,3}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){3}(?:(:\").concat(IPv6SegmentFormat, \"){0,2}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,4}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){2}(?:(:\").concat(IPv6SegmentFormat, \"){0,3}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,5}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){1}(?:(:\").concat(IPv6SegmentFormat, \"){0,4}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,6}|:)|\") + \"(?::((?::\".concat(IPv6SegmentFormat, \"){0,5}:\").concat(IPv4AddressFormat, \"|(?::\").concat(IPv6SegmentFormat, \"){1,7}|:))\") + ')(%[0-9a-zA-Z-.:]{1,})?$');\n\nfunction isIP(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  (0, _assertString.default)(str);\n  version = String(version);\n\n  if (!version) {\n    return isIP(str, 4) || isIP(str, 6);\n  }\n\n  if (version === '4') {\n    if (!IPv4AddressRegExp.test(str)) {\n      return false;\n    }\n\n    var parts = str.split('.').sort(function (a, b) {\n      return a - b;\n    });\n    return parts[3] <= 255;\n  }\n\n  if (version === '6') {\n    return !!IPv6AddressRegExp.test(str);\n  }\n\n  return false;\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmail;\n\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\n\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\n\nvar _isByteLength = _interopRequireDefault(require(\"./isByteLength\"));\n\nvar _isFQDN = _interopRequireDefault(require(\"./isFQDN\"));\n\nvar _isIP = _interopRequireDefault(require(\"./isIP\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar default_email_options = {\n  allow_display_name: false,\n  require_display_name: false,\n  allow_utf8_local_part: true,\n  require_tld: true,\n  blacklisted_chars: '',\n  ignore_max_length: false,\n  host_blacklist: []\n};\n/* eslint-disable max-len */\n\n/* eslint-disable no-control-regex */\n\nvar splitNameAddress = /^([^\\x00-\\x1F\\x7F-\\x9F\\cX]+)</i;\nvar emailUserPart = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]+$/i;\nvar gmailUserPart = /^[a-z\\d]+$/;\nvar quotedEmailUser = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]))*$/i;\nvar emailUserUtf8Part = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+$/i;\nvar quotedEmailUserUtf8 = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*$/i;\nvar defaultMaxEmailLength = 254;\n/* eslint-enable max-len */\n\n/* eslint-enable no-control-regex */\n\n/**\n * Validate display name according to the RFC2822: https://tools.ietf.org/html/rfc2822#appendix-A.1.2\n * @param {String} display_name\n */\n\nfunction validateDisplayName(display_name) {\n  var display_name_without_quotes = display_name.replace(/^\"(.+)\"$/, '$1'); // display name with only spaces is not valid\n\n  if (!display_name_without_quotes.trim()) {\n    return false;\n  } // check whether display name contains illegal character\n\n\n  var contains_illegal = /[\\.\";<>]/.test(display_name_without_quotes);\n\n  if (contains_illegal) {\n    // if contains illegal characters,\n    // must to be enclosed in double-quotes, otherwise it's not a valid display name\n    if (display_name_without_quotes === display_name) {\n      return false;\n    } // the quotes in display name must start with character symbol \\\n\n\n    var all_start_with_back_slash = display_name_without_quotes.split('\"').length === display_name_without_quotes.split('\\\\\"').length;\n\n    if (!all_start_with_back_slash) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isEmail(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, default_email_options);\n\n  if (options.require_display_name || options.allow_display_name) {\n    var display_email = str.match(splitNameAddress);\n\n    if (display_email) {\n      var display_name = display_email[1]; // Remove display name and angle brackets to get email address\n      // Can be done in the regex but will introduce a ReDOS (See  #1597 for more info)\n\n      str = str.replace(display_name, '').replace(/(^<|>$)/g, ''); // sometimes need to trim the last space to get the display name\n      // because there may be a space between display name and email address\n      // eg. myname <address@gmail.com>\n      // the display name is `myname` instead of `myname `, so need to trim the last space\n\n      if (display_name.endsWith(' ')) {\n        display_name = display_name.substr(0, display_name.length - 1);\n      }\n\n      if (!validateDisplayName(display_name)) {\n        return false;\n      }\n    } else if (options.require_display_name) {\n      return false;\n    }\n  }\n\n  if (!options.ignore_max_length && str.length > defaultMaxEmailLength) {\n    return false;\n  }\n\n  var parts = str.split('@');\n  var domain = parts.pop();\n  var lower_domain = domain.toLowerCase();\n\n  if (options.host_blacklist.includes(lower_domain)) {\n    return false;\n  }\n\n  var user = parts.join('@');\n\n  if (options.domain_specific_validation && (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com')) {\n    /*\n      Previously we removed dots for gmail addresses before validating.\n      This was removed because it allows `multiple..dots@gmail.com`\n      to be reported as valid, but it is not.\n      Gmail only normalizes single dots, removing them from here is pointless,\n      should be done in normalizeEmail\n    */\n    user = user.toLowerCase(); // Removing sub-address from username before gmail validation\n\n    var username = user.split('+')[0]; // Dots are not included in gmail length restriction\n\n    if (!(0, _isByteLength.default)(username.replace(/\\./g, ''), {\n      min: 6,\n      max: 30\n    })) {\n      return false;\n    }\n\n    var _user_parts = username.split('.');\n\n    for (var i = 0; i < _user_parts.length; i++) {\n      if (!gmailUserPart.test(_user_parts[i])) {\n        return false;\n      }\n    }\n  }\n\n  if (options.ignore_max_length === false && (!(0, _isByteLength.default)(user, {\n    max: 64\n  }) || !(0, _isByteLength.default)(domain, {\n    max: 254\n  }))) {\n    return false;\n  }\n\n  if (!(0, _isFQDN.default)(domain, {\n    require_tld: options.require_tld\n  })) {\n    if (!options.allow_ip_domain) {\n      return false;\n    }\n\n    if (!(0, _isIP.default)(domain)) {\n      if (!domain.startsWith('[') || !domain.endsWith(']')) {\n        return false;\n      }\n\n      var noBracketdomain = domain.substr(1, domain.length - 2);\n\n      if (noBracketdomain.length === 0 || !(0, _isIP.default)(noBracketdomain)) {\n        return false;\n      }\n    }\n  }\n\n  if (user[0] === '\"') {\n    user = user.slice(1, user.length - 1);\n    return options.allow_utf8_local_part ? quotedEmailUserUtf8.test(user) : quotedEmailUser.test(user);\n  }\n\n  var pattern = options.allow_utf8_local_part ? emailUserUtf8Part : emailUserPart;\n  var user_parts = user.split('.');\n\n  for (var _i = 0; _i < user_parts.length; _i++) {\n    if (!pattern.test(user_parts[_i])) {\n      return false;\n    }\n  }\n\n  if (options.blacklisted_chars) {\n    if (user.search(new RegExp(\"[\".concat(options.blacklisted_chars, \"]+\"), 'g')) !== -1) return false;\n  }\n\n  return true;\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isURL;\n\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\n\nvar _isFQDN = _interopRequireDefault(require(\"./isFQDN\"));\n\nvar _isIP = _interopRequireDefault(require(\"./isIP\"));\n\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/*\noptions for isURL method\n\nrequire_protocol - if set as true isURL will return false if protocol is not present in the URL\nrequire_valid_protocol - isURL will check if the URL's protocol is present in the protocols option\nprotocols - valid protocols can be modified with this option\nrequire_host - if set as false isURL will not check if host is present in the URL\nrequire_port - if set as true isURL will check if port is present in the URL\nallow_protocol_relative_urls - if set as true protocol relative URLs will be allowed\nvalidate_length - if set as false isURL will skip string length validation (IE maximum is 2083)\n\n*/\nvar default_url_options = {\n  protocols: ['http', 'https', 'ftp'],\n  require_tld: true,\n  require_protocol: false,\n  require_host: true,\n  require_port: false,\n  require_valid_protocol: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_protocol_relative_urls: false,\n  allow_fragments: true,\n  allow_query_components: true,\n  validate_length: true\n};\nvar wrapped_ipv6 = /^\\[([^\\]]+)\\](?::([0-9]+))?$/;\n\nfunction isRegExp(obj) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\n\nfunction checkHost(host, matches) {\n  for (var i = 0; i < matches.length; i++) {\n    var match = matches[i];\n\n    if (host === match || isRegExp(match) && match.test(host)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isURL(url, options) {\n  (0, _assertString.default)(url);\n\n  if (!url || /[\\s<>]/.test(url)) {\n    return false;\n  }\n\n  if (url.indexOf('mailto:') === 0) {\n    return false;\n  }\n\n  options = (0, _merge.default)(options, default_url_options);\n\n  if (options.validate_length && url.length >= 2083) {\n    return false;\n  }\n\n  if (!options.allow_fragments && url.includes('#')) {\n    return false;\n  }\n\n  if (!options.allow_query_components && (url.includes('?') || url.includes('&'))) {\n    return false;\n  }\n\n  var protocol, auth, host, hostname, port, port_str, split, ipv6;\n  split = url.split('#');\n  url = split.shift();\n  split = url.split('?');\n  url = split.shift();\n  split = url.split('://');\n\n  if (split.length > 1) {\n    protocol = split.shift().toLowerCase();\n\n    if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {\n      return false;\n    }\n  } else if (options.require_protocol) {\n    return false;\n  } else if (url.substr(0, 2) === '//') {\n    if (!options.allow_protocol_relative_urls) {\n      return false;\n    }\n\n    split[0] = url.substr(2);\n  }\n\n  url = split.join('://');\n\n  if (url === '') {\n    return false;\n  }\n\n  split = url.split('/');\n  url = split.shift();\n\n  if (url === '' && !options.require_host) {\n    return true;\n  }\n\n  split = url.split('@');\n\n  if (split.length > 1) {\n    if (options.disallow_auth) {\n      return false;\n    }\n\n    if (split[0] === '') {\n      return false;\n    }\n\n    auth = split.shift();\n\n    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {\n      return false;\n    }\n\n    var _auth$split = auth.split(':'),\n        _auth$split2 = _slicedToArray(_auth$split, 2),\n        user = _auth$split2[0],\n        password = _auth$split2[1];\n\n    if (user === '' && password === '') {\n      return false;\n    }\n  }\n\n  hostname = split.join('@');\n  port_str = null;\n  ipv6 = null;\n  var ipv6_match = hostname.match(wrapped_ipv6);\n\n  if (ipv6_match) {\n    host = '';\n    ipv6 = ipv6_match[1];\n    port_str = ipv6_match[2] || null;\n  } else {\n    split = hostname.split(':');\n    host = split.shift();\n\n    if (split.length) {\n      port_str = split.join(':');\n    }\n  }\n\n  if (port_str !== null && port_str.length > 0) {\n    port = parseInt(port_str, 10);\n\n    if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {\n      return false;\n    }\n  } else if (options.require_port) {\n    return false;\n  }\n\n  if (options.host_whitelist) {\n    return checkHost(host, options.host_whitelist);\n  }\n\n  if (!(0, _isIP.default)(host) && !(0, _isFQDN.default)(host, options) && (!ipv6 || !(0, _isIP.default)(ipv6, 6))) {\n    return false;\n  }\n\n  host = host || ipv6;\n\n  if (options.host_blacklist && checkHost(host, options.host_blacklist)) {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","// https://github.com/validatorjs/validator.js\n\nimport isDate from 'validator/lib/isDate';\nimport isEmail from 'validator/lib/isEmail';\nimport isEmpty from 'lodash/isEmpty';\nimport isURL from 'validator/lib/isURL';\nimport isNumber from 'lodash/isNumber';\nimport { getCharacterLength } from '../utils/helper';\nimport { CustomValidator, FormRule, ValueType, AllValidateResult } from './type';\n\n// `{} / [] / '' / undefined / null` 等内容被认为是空； 0 和 false 被认为是正常数据，部分数据的值就是 0 或者 false\nexport function isValueEmpty(val: ValueType): boolean {\n  const type: string = Object.prototype.toString.call(val);\n  const typeMap: Record<string, any> = {\n    Date: '[object Date]',\n  };\n  if (type === typeMap.Date) {\n    return false;\n  }\n  return typeof val === 'object' ? isEmpty(val) : ['', undefined, null].includes(val);\n}\n\nconst VALIDATE_MAP = {\n  date: isDate,\n  url: isURL,\n  email: isEmail,\n  required: (val: ValueType): boolean => !isValueEmpty(val),\n  boolean: (val: ValueType): boolean => typeof val === 'boolean',\n  max: (val: ValueType, num: number): boolean => (isNumber(val) ? val <= num : getCharacterLength(val) <= num),\n  min: (val: ValueType, num: number): boolean => (isNumber(val) ? val >= num : getCharacterLength(val) >= num),\n  len: (val: ValueType, num: number): boolean => getCharacterLength(val) === num,\n  number: (val: ValueType): boolean => !Number.isNaN(val),\n  enum: (val: ValueType, strs: Array<string>): boolean => strs.includes(val),\n  idcard: (val: ValueType): boolean => /^(\\d{18,18}|\\d{15,15}|\\d{17,17}x)$/i.test(val),\n  telnumber: (val: ValueType): boolean => /^1[3-9]\\d{9}$/.test(val),\n  pattern: (val: ValueType, regexp: RegExp): boolean => regexp.test(val),\n  // 自定义校验规则，可能是异步校验\n  validator: (val: ValueType, validate: CustomValidator): ReturnType<CustomValidator> => validate(val),\n};\n\n/**\n * 校验某一条数据的某一条规则，一种校验规则不满足则不再进行校验。\n * @param value 值\n * @param rule 校验规则\n * @returns 两种校验结果，一种是内置校验规则的校验结果哦，二种是自定义校验规则（validator）的校验结果\n */\nexport async function validateOneRule(value: ValueType, rule: FormRule): Promise<AllValidateResult> {\n  let validateResult: AllValidateResult = { result: true };\n  const keys = Object.keys(rule);\n  let vOptions = {};\n  let vValidateFun;\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    // 非必填选项，值为空，非自定义规则：无需校验，直接返回 true\n    if (!rule.required && isValueEmpty(value) && !rule.validator) {\n      return validateResult;\n    }\n    const validateRule = VALIDATE_MAP[key];\n    // 找到一个校验规则，则无需再找，因为参数只允许对一个规则进行校验\n    if (validateRule && rule[key]) {\n      // rule 值为 true 则表示没有校验参数，只是对值进行默认规则校验\n      vOptions = rule[key] === true ? {} : rule[key];\n      vValidateFun = validateRule;\n      break;\n    }\n  }\n  if (vValidateFun) {\n    validateResult = await vValidateFun(value, vOptions);\n    // 如果校验不通过，则返回校验不通过的规则\n    if (typeof validateResult === 'boolean') {\n      return { ...rule, result: validateResult };\n    }\n    // 校验结果为 CustomValidateResolveType，只有自定义校验规则会存在这种情况\n    if (typeof validateResult === 'object') {\n      return validateResult;\n    }\n  }\n  return validateResult;\n}\n\n// 单个数据进行全规则校验，校验成功也可能会有 message\nexport async function validate(value: ValueType, rules: Array<FormRule>): Promise<AllValidateResult[]> {\n  const all = rules.map((rule) => validateOneRule(value, rule));\n  const r = await Promise.all(all);\n  return r;\n}\n"],"names":["Object","defineProperty","value","exports","merge","obj","arguments","length","undefined","defaults","key","module","isDate","_merge","_interopRequireDefault","require$$0","__esModule","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","Symbol","iterator","_arr","_n","_d","_e","_i","_s","next","done","push","err","Array","isArray","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","e","_e2","f","normalCompletion","didErr","step","_e3","minLen","_arrayLikeToArray","prototype","toString","call","slice","constructor","name","from","test","len","arr2","default_date_options","format","delimiters","strictMode","isValidFormat","zip","date","zippedArr","Math","min","input","options","formatDelimiter","find","delimiter","indexOf","dateDelimiter","dateAndFormat","split","toLowerCase","dateObj","_iterator","_step","_step$value","dateWord","formatWord","charAt","Date","concat","m","d","y","getDate","isFinite","assertString","_typeof","isString","String","invalidType","isByteLength","_assertString","str","max","encodeURI","isFQDN","require$$1","default_fqdn_options","require_tld","allow_underscores","allow_trailing_dot","allow_numeric_tld","allow_wildcard","substring","parts","tld","every","part","isIP","IPv4SegmentFormat","IPv4AddressFormat","IPv4AddressRegExp","RegExp","IPv6SegmentFormat","IPv6AddressRegExp","version","sort","a","b","isEmail","_isByteLength","require$$2","_isFQDN","require$$3","_isIP","require$$4","default_email_options","allow_display_name","require_display_name","allow_utf8_local_part","blacklisted_chars","ignore_max_length","host_blacklist","splitNameAddress","emailUserPart","gmailUserPart","quotedEmailUser","emailUserUtf8Part","quotedEmailUserUtf8","defaultMaxEmailLength","validateDisplayName","display_name","display_name_without_quotes","replace","trim","contains_illegal","all_start_with_back_slash","display_email","match","endsWith","substr","domain","pop","lower_domain","includes","user","join","domain_specific_validation","username","_user_parts","allow_ip_domain","startsWith","noBracketdomain","pattern","user_parts","search","isURL","default_url_options","protocols","require_protocol","require_host","require_port","require_valid_protocol","allow_protocol_relative_urls","allow_fragments","allow_query_components","validate_length","wrapped_ipv6","isRegExp","checkHost","host","matches","url","protocol","auth","hostname","port","port_str","ipv6","shift","disallow_auth","_auth$split","_auth$split2","password","ipv6_match","parseInt","host_whitelist","isValueEmpty","val","type","typeMap","isEmpty","VALIDATE_MAP","email","required","num","isNumber","getCharacterLength","number","Number","isNaN","strs","idcard","telnumber","regexp","validator","validate2","validateOneRule","rule","validateResult","result","keys","vOptions","validateRule","vValidateFun","validate","rules","all","map","Promise","r"],"mappings":"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"}